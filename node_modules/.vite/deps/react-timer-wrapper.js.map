{
  "version": 3,
  "sources": ["../../react-timer-wrapper/es/index.js"],
  "sourcesContent": ["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cleanProps from 'clean-react-props';\n\nvar TimerWrapper = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TimerWrapper, _Component);\n\n  function TimerWrapper(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.state = {\n      duration: props.duration,\n      startTime: props.active ? Date.now() - props.time : null,\n      time: props.time\n    };\n    _this.tick = _this.tick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TimerWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$state = this.state,\n        duration = _this$state.duration,\n        startTime = _this$state.startTime,\n        time = _this$state.time;\n    var _this$props = this.props,\n        active = _this$props.active,\n        onStart = _this$props.onStart;\n\n    if (active) {\n      onStart({\n        duration: duration,\n        progress: this.getProgress(time),\n        time: time\n      });\n      this.animationFrame = requestAnimationFrame(this.tick);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        active = _this$props2.active,\n        duration = _this$props2.duration,\n        time = _this$props2.time,\n        onStart = _this$props2.onStart,\n        onStop = _this$props2.onStop;\n\n    if (prevProps.active === active && prevProps.time !== time && time !== this.state.time) {\n      var timeDiff = this.state.time - time;\n      this.setState({\n        startTime: this.state.startTime + timeDiff,\n        time: this.state.time + timeDiff\n      });\n      return;\n    }\n\n    if (prevProps.active !== active) {\n      switch (active) {\n        case true:\n          var nextTime = duration !== null && this.state.time >= duration ? 0 : this.state.time;\n          this.setState({\n            startTime: Date.now() - nextTime,\n            time: nextTime\n          }, function () {\n            onStart({\n              duration: duration,\n              progress: _this2.getProgress(nextTime),\n              time: nextTime\n            });\n            _this2.animationFrame = requestAnimationFrame(_this2.tick);\n          });\n          break;\n\n        case false:\n          cancelAnimationFrame(this.animationFrame);\n          onStop({\n            duration: duration,\n            progress: this.getProgress(this.state.time),\n            time: this.state.time\n          });\n          break;\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    cancelAnimationFrame(this.animationFrame);\n  };\n\n  _proto.getProgress = function getProgress(time) {\n    var duration = this.state.duration;\n\n    if (!duration) {\n      return 0;\n    }\n\n    return Math.max(0, Math.min(1, time / duration));\n  };\n\n  _proto.tick = function tick() {\n    var _this3 = this;\n\n    var _this$props3 = this.props,\n        duration = _this$props3.duration,\n        loop = _this$props3.loop,\n        time = _this$props3.time,\n        onFinish = _this$props3.onFinish,\n        onTimeUpdate = _this$props3.onTimeUpdate,\n        onStart = _this$props3.onStart;\n    var startTime = this.state.startTime;\n    var nextTime = Date.now() - startTime;\n    this.setState({\n      time: nextTime\n    }, function () {\n      onTimeUpdate({\n        duration: duration,\n        progress: _this3.getProgress(nextTime),\n        time: nextTime\n      });\n\n      if (duration !== null && nextTime >= duration) {\n        onFinish({\n          duration: duration,\n          progress: _this3.getProgress(nextTime),\n          time: nextTime\n        });\n\n        if (!loop) {\n          cancelAnimationFrame(_this3.animationFrame);\n          return;\n        }\n\n        nextTime = 0;\n        onStart({\n          duration: duration,\n          progress: 0,\n          time: nextTime\n        });\n\n        _this3.setState({\n          startTime: Date.now()\n        });\n      }\n\n      _this3.animationFrame = requestAnimationFrame(_this3.tick);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        component = _this$props4.component,\n        duration = _this$props4.duration;\n    var time = this.state.time;\n    var progress = duration && time ? time / duration : 0;\n    var clonedChildren = React.Children.toArray(children).map(function (child, childIndex) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        duration: duration,\n        time: time,\n        progress: progress\n      });\n    });\n    return /*#__PURE__*/React.createElement(component, _objectSpread({}, cleanProps(this.props)), clonedChildren);\n  };\n\n  return TimerWrapper;\n}(Component);\n\nTimerWrapper.propTypes = {\n  active: PropTypes.bool,\n  component: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  duration: PropTypes.number,\n  loop: PropTypes.bool,\n  time: PropTypes.number,\n  onFinish: PropTypes.func,\n  onTimeUpdate: PropTypes.func,\n  onStart: PropTypes.func\n};\nTimerWrapper.defaultProps = {\n  active: false,\n  component: 'div',\n  duration: 10000,\n  loop: false,\n  time: 0,\n  onFinish: function onFinish() {},\n  onStart: function onStart() {},\n  onStop: function onStop() {},\n  onTimeUpdate: function onTimeUpdate() {}\n};\nexport default TimerWrapper;"],
  "mappings": "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",
  "names": ["TimerWrapper", "onStart", "onStop", "onFinish", "onTimeUpdate", "React", "PropTypes", "es_default"]
}
